-- =============================================================================
-- 2024年名额分配到校招生计划
-- Generated by etl_quota_allocation_school.py
-- Total Records: 503 across 3 districts
-- =============================================================================

-- Delete existing 2024 data
DELETE FROM ref_quota_allocation_school WHERE year = 2024;

-- JA: 276 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2024), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2024), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 19, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 19, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 19, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 20, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 13, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2024), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 21, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2024), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2024), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2024), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2024), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2024), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2024), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2024), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2024), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2024), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2024), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- QP: 89 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市上海中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市上海中学', 181001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海交通大学附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海交通大学附属中学', 181019, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学', 184005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第二附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '华东师范大学第二附属中学', 181009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海师范大学附属中学', 181007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181002, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181003, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181004, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181006, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181008, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181011, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181012, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181013, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181016, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181017, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181018, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181019, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 184005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185003, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185004, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185008, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185011, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185012, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185013, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185014, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181002, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181003, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181004, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181006, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181008, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181011, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181012, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181013, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181016, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181017, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181018, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181019, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 184005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185003, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185004, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185008, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185011, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185012, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185013, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185014, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181002, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181003, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181004, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181006, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181008, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181011, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181012, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181013, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181016, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181017, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181018, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181019, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 184005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185003, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185004, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185008, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185011, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185012, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185013, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '185014' AND data_year = 2024), '185014', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185014, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '185014' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- YP: 138 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市铁岭中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市铁岭中学', 14, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市铁岭中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市铁岭中学', 14, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市铁岭中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市铁岭中学', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市铁岭中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市铁岭中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市十五中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市十五中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市十五中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市杨浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市杨浦初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市杨浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市杨浦初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市杨浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市杨浦初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市惠民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市惠民中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市惠民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市惠民中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市惠民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市惠民中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2024), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市惠民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市惠民中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市辽阳中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市辽阳中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市辽阳中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市新大桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市新大桥中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市新大桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市新大桥中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市新大桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市新大桥中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市新大桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市新大桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市建设初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市建设初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市建设初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市建设初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市建设初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市建设初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市东辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市东辽阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市东辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市东辽阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市东辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市东辽阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2024), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市东辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市东辽阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市二十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市二十五中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市二十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市二十五中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市二十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市二十五中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2024), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市二十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市二十五中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市杨浦区教育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市杨浦区教育学院附属中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市杨浦区教育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市杨浦区教育学院附属中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市杨浦区教育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市杨浦区教育学院附属中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市同济初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市同济初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市同济初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市同济初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市三门中学（上海财经大学附属初级中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市三门中学（上海财经大学附属初级中学）', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市三门中学（上海财经大学附属初级中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市三门中学（上海财经大学附属初级中学）', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市三门中学（上海财经大学附属初级中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市三门中学（上海财经大学附属初级中学）', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市三门中学（上海财经大学附属初级中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市三门中学（上海财经大学附属初级中学）', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市包头中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市包头中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市包头中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市包头中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市包头中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市包头中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市包头中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市包头中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市思源中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市思源中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市思源中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市思源中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市思源中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市思源中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市思源中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市思源中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山实验中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山实验中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山实验中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市同济第二初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济第二初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市同济第二初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济第二初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市同济第二初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济第二初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市国和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市国和中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市国和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市国和中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市国和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市国和中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市国和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市国和中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属实验初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属实验初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属实验初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属实验初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属实验初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属实验初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市控江初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市控江初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市控江初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市控江初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市控江初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市控江初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市控江初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市控江初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市存志学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市存志学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市存志学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市存志学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市存志学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市存志学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市存志学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市存志学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦凯慧初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦凯慧初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦凯慧初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦凯慧初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦凯慧初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦凯慧初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦凯慧初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦凯慧初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市市东实验学校（上海市市东中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市东实验学校（上海市市东中学）', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市市东实验学校（上海市市东中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市东实验学校（上海市市东中学）', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市市东实验学校（上海市市东中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市东实验学校（上海市市东中学）', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市复旦实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市复旦实验中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市复旦实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市复旦实验中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市复旦实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市复旦实验中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市复旦实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市复旦实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海民办兰生中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办兰生中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海民办兰生中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办兰生中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海民办兰生中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办兰生中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2024), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海民办兰生中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办兰生中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市长阳实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市长阳实验学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市长阳实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市长阳实验学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市长阳实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市长阳实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦实验学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦实验学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市体育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市体育学院附属中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市体育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市体育学院附属中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市体育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市体育学院附属中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海音乐学院实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海音乐学院实验学校', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海音乐学院实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海音乐学院实验学校', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海音乐学院实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海音乐学院实验学校', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海音乐学院实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海音乐学院实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市黄兴学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市黄兴学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市黄兴学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市黄兴学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市黄兴学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市黄兴学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市昆明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市昆明学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市昆明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市昆明学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市昆明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市昆明学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市昆明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市昆明学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市育鹰学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市育鹰学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市育鹰学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市育鹰学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市育鹰学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市育鹰学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市育鹰学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市育鹰学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海杨浦双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海杨浦双语学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海杨浦双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海杨浦双语学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海杨浦双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海杨浦双语学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海杨浦双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海杨浦双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市市光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市光学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市市光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市光学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市市光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市光学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2024), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市市光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市光学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海民办沪东外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办沪东外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海民办沪东外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办沪东外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海民办沪东外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办沪东外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海同大实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海同大实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海同大实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海同大实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海同大实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海同大实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2024), '102032', (SELECT id FROM ref_middle_school WHERE name = '复旦大学第二附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '复旦大学第二附属学校', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2024), '102004', (SELECT id FROM ref_middle_school WHERE name = '复旦大学第二附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '复旦大学第二附属学校', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2024), '103002', (SELECT id FROM ref_middle_school WHERE name = '复旦大学第二附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '复旦大学第二附属学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2024), '102057', (SELECT id FROM ref_middle_school WHERE name = '复旦大学第二附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '复旦大学第二附属学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2024)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;


-- Verify: SELECT year, d.code, COUNT(*) FROM ref_quota_allocation_school q JOIN ref_district d ON q.district_id = d.id WHERE year = 2024 GROUP BY year, d.code;
