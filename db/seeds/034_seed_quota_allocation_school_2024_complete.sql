-- =============================================================================
-- 2024年名额分配到校招生计划
-- Generated by etl_quota_allocation_school_v2.py
-- Total Records: 2074 across 12 districts
-- =============================================================================

-- Delete existing 2024 data
DELETE FROM ref_quota_allocation_school WHERE year = 2024;

-- BS: 107 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市淞谊中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市淞谊中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市淞谊中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市淞谊中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区教育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区教育学院附属中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区教育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区教育学院附属中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市吴淞初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市吴淞初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市海滨第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市海滨第二中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海民办宝莲中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海民办宝莲中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海民办宝莲中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海民办宝莲中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海民办宝莲中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海民办宝莲中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市吴淞第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市吴淞第二中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市虎林中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市虎林中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市虎林中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市虎林中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市泗塘中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市泗塘中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市泗塘中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市泗塘中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区求真中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区求真中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市泗塘第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市泗塘第二中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市泗塘第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市泗塘第二中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市泗塘第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市泗塘第二中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市长江第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市长江第二中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区求真中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区求真中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区求真中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区求真中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区求真中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区求真中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市大场中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市大场中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市大场中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市大场中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市大华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市大华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市大华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市大华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市月浦中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市月浦中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市月浦中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市月浦中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市月浦中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市月浦中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市罗泾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市罗泾中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市罗泾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市罗泾中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市罗南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市罗南中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市罗南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市罗南中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市罗南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市罗南中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办交华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市民办交华中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市民办交华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市民办交华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区高境镇第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区高境镇第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区罗店第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区罗店第二中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区乐之中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区乐之中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区美兰湖中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区美兰湖中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区杨泰实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区杨泰实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区杨泰实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区杨泰实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属宝山经纬实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海师范大学附属宝山经纬实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属宝山经纬实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海师范大学附属宝山经纬实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属宝山罗店中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海师范大学附属宝山罗店中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属宝山罗店中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海师范大学附属宝山罗店中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市顾村中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市顾村中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市行知实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市行知实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市行知实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市行知实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市行知实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市行知实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市高境第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市高境第一中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市高境第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市高境第一中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市盛桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市盛桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市同洲模范学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市同洲模范学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办锦秋学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市民办锦秋学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市月浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市月浦实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市月浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市月浦实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝钢新世纪学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝钢新世纪学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市宝钢新世纪学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝钢新世纪学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市吴淞实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市吴淞实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市吴淞实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市吴淞实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市吴淞实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市吴淞实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区天馨学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区天馨学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区上海大学附属中学实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区上海大学附属中学实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区上海大学附属中学实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区上海大学附属中学实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区共富实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区共富实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区共富实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区共富实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学宝山实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '华东师范大学宝山实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学宝山实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '华东师范大学宝山实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海大学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海大学附属学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海大学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海大学附属学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海农场学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海农场学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区馨家园学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区馨家园学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区馨家园学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区馨家园学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海世外教育附属宝山大华实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海世外教育附属宝山大华实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海世外教育附属宝山大华实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海世外教育附属宝山大华实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区教育学院实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区教育学院实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区鹿鸣学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区鹿鸣学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区鹿鸣学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区鹿鸣学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区庙行实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区庙行实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区庙行实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区庙行实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区顾村实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区顾村实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区顾村实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区顾村实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市教育学会宝山实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市教育学会宝山实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区行知外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区行知外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区行知外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区行知外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区新民实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区新民实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区新民实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区新民实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市刘行新华实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市刘行新华实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市刘行新华实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市刘行新华实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海民办华曜宝山实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海民办华曜宝山实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海民办华曜宝山实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海民办华曜宝山实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海大学附属宝山外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海大学附属宝山外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学附属宝山双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海外国语大学附属宝山双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学附属宝山双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海外国语大学附属宝山双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市行知中学附属宝山实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市行知中学附属宝山实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海民办至德实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海民办至德实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海民办至德实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海民办至德实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海民办至德实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海民办至德实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海宝山区世外学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海宝山区世外学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属宝山实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海师范大学附属宝山实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属宝山潜溪学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海师范大学附属宝山潜溪学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市存志附属宝山实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市存志附属宝山实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学附属宝山宝杨实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '华东师范大学附属宝山宝杨实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'BS'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宝山区陈伯吹罗店实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'BS') LIMIT 1), '上海市宝山区陈伯吹罗店实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'BS')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- FX: 123 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区古华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区古华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区古华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区古华中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区古华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区古华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区实验中学', 16, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤中学附属南桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤中学附属南桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤中学附属南桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤中学附属南桥中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤中学附属南桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤中学附属南桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区汇贤中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区汇贤中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区汇贤中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区汇贤中学', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区汇贤中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区汇贤中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区塘外中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区塘外中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区塘外中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区塘外中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区塘外中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区塘外中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区青村中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区青村中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区青村中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区青村中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区青村中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区青村中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区奉城第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区奉城第二中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区奉城第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区奉城第二中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区奉城第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区奉城第二中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区头桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区头桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区头桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区头桥中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区头桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区头桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区洪庙中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区洪庙中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区洪庙中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区洪庙中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区洪庙中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区洪庙中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区四团中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区四团中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区四团中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区四团中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区青溪中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区青溪中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区青溪中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区青溪中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区青溪中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区青溪中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区青溪中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区青溪中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区尚同中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区尚同中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区尚同中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区尚同中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区尚同中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区尚同中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学附属奉贤实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海外国语大学附属奉贤实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学附属奉贤实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海外国语大学附属奉贤实验中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学附属奉贤实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海外国语大学附属奉贤实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区崇实中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区崇实中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区崇实中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区崇实中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区崇实中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区崇实中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区待问中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区待问中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区待问中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区待问中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区待问中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区待问中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤中学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤中学附属初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤中学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤中学附属初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤中学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤中学附属初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区肖塘中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区肖塘中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区肖塘中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区肖塘中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区肖塘中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区肖塘中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区育秀中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区育秀中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区育秀中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区育秀中学', 14, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区育秀中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区育秀中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区华亭学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区华亭学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区华亭学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区华亭学校', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区华亭学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区华亭学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区西渡学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区西渡学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区西渡学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区西渡学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区西渡学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区西渡学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区新寺学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区新寺学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区新寺学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区新寺学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区新寺学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区新寺学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区胡桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区胡桥学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区胡桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区胡桥学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区胡桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区胡桥学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区柘林学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区柘林学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区柘林学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区柘林学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区柘林学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区柘林学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区阳光外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区阳光外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区阳光外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区阳光外国语学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区阳光外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区阳光外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区庄行学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区庄行学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区庄行学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区庄行学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区庄行学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区庄行学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区邬桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区邬桥学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区邬桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区邬桥学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区邬桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区邬桥学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区金汇学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区金汇学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区金汇学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区金汇学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区金汇学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区金汇学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区齐贤学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区齐贤学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区齐贤学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区齐贤学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区齐贤学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区齐贤学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区泰日学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区泰日学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区泰日学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区泰日学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区泰日学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区泰日学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤中学附属三官堂学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤中学附属三官堂学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤中学附属三官堂学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤中学附属三官堂学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤中学附属三官堂学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤中学附属三官堂学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区钱桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区钱桥学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区钱桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区钱桥学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区钱桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区钱桥学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区平安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区平安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区平安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区平安学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区平安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区平安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区邵厂学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区邵厂学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区邵厂学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区邵厂学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区弘文学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区弘文学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区弘文学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区弘文学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区弘文学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区弘文学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区弘文学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区弘文学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区星火学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区星火学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区星火学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区星火学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区星火学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区星火学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区五四学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区五四学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区五四学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区五四学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区五四学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区五四学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区肇文学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区肇文学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区肇文学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区肇文学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区肇文学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区肇文学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区奉浦中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区奉浦中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区奉浦中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区奉浦中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海市奉贤区奉浦中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海市奉贤区奉浦中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上海奉贤区世外教育附属临港外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海奉贤区世外教育附属临港外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '上海奉贤区世外教育附属临港外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海奉贤区世外教育附属临港外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '上海奉贤区世外教育附属临港外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '上海奉贤区世外教育附属临港外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '柘林学校师大附中教学点' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '柘林学校师大附中教学点', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202001' AND data_year = 2025), '202001', (SELECT id FROM ref_middle_school WHERE name = '柘林学校师大附中教学点' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '柘林学校师大附中教学点', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'FX'), (SELECT id FROM ref_school WHERE code = '202002' AND data_year = 2025), '202002', (SELECT id FROM ref_middle_school WHERE name = '柘林学校师大附中教学点' AND district_id = (SELECT id FROM ref_district WHERE code = 'FX') LIMIT 1), '柘林学校师大附中教学点', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'FX')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '202002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- HP: 214 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '格致初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '格致初级中学', 17, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '格致初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '格致初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '格致初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '格致初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '格致初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '格致初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '格致初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '格致初级中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '格致初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '格致初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '格致初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '格致初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '格致初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '格致初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '格致初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '格致初级中学', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学', 13, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '向明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '向明初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '向明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '向明初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '向明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '向明初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '向明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '向明初级中学', 13, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '向明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '向明初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '向明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '向明初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '向明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '向明初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '向明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '向明初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '向明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '向明初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '大境初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大境初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '大境初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大境初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '大境初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大境初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '大境初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大境初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '大境初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大境初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '大境初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大境初级中学', 14, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '大境初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大境初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '大境初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大境初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '大境初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大境初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '光明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '光明初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '光明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '光明初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '光明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '光明初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '光明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '光明初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '光明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '光明初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '光明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '光明初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '光明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '光明初级中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '光明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '光明初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '光明初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '光明初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '敬业初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '敬业初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '敬业初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '敬业初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '敬业初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '敬业初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '敬业初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '敬业初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '敬业初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '敬业初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '敬业初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '敬业初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '敬业初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '敬业初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '敬业初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '敬业初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '敬业初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '敬业初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '卢湾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '卢湾中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '卢湾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '卢湾中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '卢湾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '卢湾中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '卢湾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '卢湾中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '卢湾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '卢湾中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '卢湾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '卢湾中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '卢湾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '卢湾中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '卢湾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '卢湾中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '卢湾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '卢湾中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '卢湾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '卢湾中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '市八初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市八初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '市八初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市八初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '市八初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市八初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '市八初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市八初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '市八初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市八初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '市八初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市八初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '市八初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市八初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '市八初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市八初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '市八初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市八初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '尚文中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '尚文中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '尚文中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '尚文中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '尚文中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '尚文中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '尚文中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '尚文中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '尚文中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '尚文中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '尚文中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '尚文中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '尚文中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '尚文中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '尚文中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '尚文中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '尚文中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '尚文中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '尚文中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '尚文中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '交附黄浦实验' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '交附黄浦实验', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '交附黄浦实验' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '交附黄浦实验', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '交附黄浦实验' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '交附黄浦实验', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '交附黄浦实验' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '交附黄浦实验', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '交附黄浦实验' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '交附黄浦实验', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '交附黄浦实验' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '交附黄浦实验', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '交附黄浦实验' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '交附黄浦实验', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '交附黄浦实验' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '交附黄浦实验', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '交附黄浦实验' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '交附黄浦实验', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '清华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '清华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '清华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '清华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '清华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '清华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '清华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '清华中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '清华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '清华中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '清华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '清华中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '清华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '清华中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '清华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '清华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '清华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '清华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '民办明珠中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办明珠中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '民办明珠中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办明珠中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '民办明珠中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办明珠中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '民办明珠中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办明珠中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '民办明珠中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办明珠中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '民办明珠中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办明珠中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '民办明珠中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办明珠中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '民办明珠中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办明珠中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '民办明珠中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办明珠中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '民办明珠中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办明珠中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '民办立达中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办立达中学', 13, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '民办立达中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办立达中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '民办立达中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办立达中学', 17, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '民办立达中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办立达中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '民办立达中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办立达中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '民办立达中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办立达中学', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '民办立达中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办立达中学', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '民办立达中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办立达中学', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '民办立达中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办立达中学', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '民办震旦外国语' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办震旦外国语', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '民办震旦外国语' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办震旦外国语', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '民办震旦外国语' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办震旦外国语', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '民办震旦外国语' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办震旦外国语', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '民办震旦外国语' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办震旦外国语', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '民办震旦外国语' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办震旦外国语', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '民办震旦外国语' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办震旦外国语', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '民办震旦外国语' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办震旦外国语', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '民办震旦外国语' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办震旦外国语', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '民办震旦外国语' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办震旦外国语', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '市十中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市十中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '市十中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市十中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '市十中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市十中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '市十中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市十中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '市十中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市十中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '市十中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市十中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '市十中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市十中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '市十中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市十中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '市十中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市十中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '储能中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '储能中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '储能中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '储能中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '储能中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '储能中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '储能中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '储能中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '储能中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '储能中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '储能中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '储能中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '储能中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '储能中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '储能中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '储能中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '储能中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '储能中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '储能中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '储能中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '金陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '金陵中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '金陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '金陵中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '金陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '金陵中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '金陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '金陵中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '金陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '金陵中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '金陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '金陵中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '金陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '金陵中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '金陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '金陵中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '金陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '金陵中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '金陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '金陵中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '市南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市南中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '市南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市南中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '市南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市南中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '市南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市南中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '市南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市南中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '市南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市南中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '市南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市南中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '市南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市南中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '市南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '市南中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '上音比乐中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '上音比乐中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '上音比乐中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '上音比乐中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '上音比乐中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '上音比乐中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '上音比乐中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '上音比乐中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上音比乐中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '上音比乐中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '上音比乐中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '上音比乐中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '上音比乐中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '上音比乐中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '上音比乐中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '上音比乐中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '上音比乐中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '上音比乐中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上音比乐中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '上音比乐中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '中山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '中山学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '中山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '中山学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '中山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '中山学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '中山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '中山学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '中山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '中山学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '中山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '中山学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '中山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '中山学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '中山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '中山学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '中山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '中山学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '中山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '中山学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '民办永昌学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办永昌学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '民办永昌学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办永昌学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '民办永昌学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办永昌学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '民办永昌学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办永昌学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '民办永昌学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办永昌学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '民办永昌学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办永昌学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '民办永昌学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办永昌学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '民办永昌学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办永昌学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '民办永昌学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办永昌学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '民办永昌学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '民办永昌学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '康德双语实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '康德双语实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '康德双语实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '康德双语实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '康德双语实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '康德双语实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '康德双语实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '康德双语实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '康德双语实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '康德双语实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '康德双语实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '康德双语实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '康德双语实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '康德双语实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012001' AND data_year = 2025), '012001', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学（原黄浦学校）' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学（原黄浦学校）', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012002' AND data_year = 2025), '012002', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学（原黄浦学校）' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学（原黄浦学校）', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012003' AND data_year = 2025), '012003', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学（原黄浦学校）' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学（原黄浦学校）', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012005' AND data_year = 2025), '012005', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学（原黄浦学校）' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学（原黄浦学校）', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012005' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学（原黄浦学校）' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学（原黄浦学校）', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012007' AND data_year = 2025), '012007', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学（原黄浦学校）' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学（原黄浦学校）', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012008' AND data_year = 2025), '012008', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学（原黄浦学校）' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学（原黄浦学校）', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012009' AND data_year = 2025), '012009', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学（原黄浦学校）' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学（原黄浦学校）', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'HP'), (SELECT id FROM ref_school WHERE code = '012010' AND data_year = 2025), '012010', (SELECT id FROM ref_middle_school WHERE name = '大同初级中学（原黄浦学校）' AND district_id = (SELECT id FROM ref_district WHERE code = 'HP') LIMIT 1), '大同初级中学（原黄浦学校）', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'HP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012010' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- JA: 276 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 19, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 19, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 19, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 20, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 13, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 21, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062004' AND data_year = 2025), '062004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- JD: 78 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区启良中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区启良中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区启良中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区启良中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区方泰中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区方泰中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区方泰中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区方泰中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨二中附属江桥实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市曹杨二中附属江桥实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨二中附属江桥实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市曹杨二中附属江桥实验中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨二中附属江桥实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市曹杨二中附属江桥实验中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区迎园中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区迎园中学', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区迎园中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区迎园中学', 15, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区南苑中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区南苑中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区南苑中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区南苑中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区黄渡中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区黄渡中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区黄渡中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区黄渡中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区徐行中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区徐行中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区徐行中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区徐行中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区马陆育才联合中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区马陆育才联合中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区马陆育才联合中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区马陆育才联合中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区马陆育才联合中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区马陆育才联合中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办嘉一联合中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市民办嘉一联合中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办嘉一联合中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市民办嘉一联合中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区丰庄中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区丰庄中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区丰庄中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区丰庄中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区丰庄中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区丰庄中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区外冈中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区外冈中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区外冈中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区外冈中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区外冈中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区外冈中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海民办华曜嘉定初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海民办华曜嘉定初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海民办华曜嘉定初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海民办华曜嘉定初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区震川中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区震川中学', 14, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区震川中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区震川中学', 16, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海大学附属嘉定留云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海大学附属嘉定留云中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海大学附属嘉定留云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海大学附属嘉定留云中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '交大附中附属嘉定德富中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '交大附中附属嘉定德富中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '交大附中附属嘉定德富中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '交大附中附属嘉定德富中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '交大附中附属嘉定德富中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '交大附中附属嘉定德富中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '同济大学附属实验中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '同济大学附属实验中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区华江中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区华江中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区华江中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区华江中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区新城实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区新城实验中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区新城实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区新城实验中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区南翔中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区南翔中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区南翔中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区南翔中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区疁城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区疁城实验学校', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区疁城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区疁城实验学校', 13, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区戬浜学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区戬浜学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区戬浜学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区戬浜学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区朱桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区朱桥学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区朱桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区朱桥学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区苏民学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区苏民学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区苏民学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区苏民学校', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办远东学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市民办远东学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办远东学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市民办远东学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办桃李园实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市民办桃李园实验学校', 13, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办桃李园实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市民办桃李园实验学校', 15, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区华亭学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区华亭学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区华亭学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区华亭学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区娄塘学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区娄塘学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区娄塘学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区娄塘学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学嘉定外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海外国语大学嘉定外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学嘉定外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海外国语大学嘉定外国语学校', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学嘉定外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海外国语大学嘉定外国语学校', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区练川实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区练川实验学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区练川实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区练川实验学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海华旭双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海华旭双语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海华旭双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海华旭双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '中科院上海实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '中科院上海实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '中科院上海实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '中科院上海实验学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '中科院上海实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '中科院上海实验学校', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海嘉定区世界外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海嘉定区世界外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海嘉定区世界外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海嘉定区世界外国语学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海嘉定区世界外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海嘉定区世界外国语学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区金鹤学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区金鹤学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区金鹤学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区金鹤学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区嘉二实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区嘉二实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海市嘉定区嘉二实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海市嘉定区嘉二实验学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142001' AND data_year = 2025), '142001', (SELECT id FROM ref_middle_school WHERE name = '上海嘉定区民办华盛怀少学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海嘉定区民办华盛怀少学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'JD'), (SELECT id FROM ref_school WHERE code = '142002' AND data_year = 2025), '142002', (SELECT id FROM ref_middle_school WHERE name = '上海嘉定区民办华盛怀少学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JD') LIMIT 1), '上海嘉定区民办华盛怀少学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '142002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- MH: 434 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市航华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市航华中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市航华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市航华中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市航华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市航华中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市航华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市航华中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市航华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市航华中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市航华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市航华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市航华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市航华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区上虹中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区上虹中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区上虹中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区上虹中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区上虹中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区上虹中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区上虹中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区上虹中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区上虹中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区上虹中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区上虹中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区上虹中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区上虹中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区上虹中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市龙柏中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市龙柏中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市龙柏中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市龙柏中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市龙柏中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市龙柏中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市龙柏中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市龙柏中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市龙柏中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市龙柏中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市龙柏中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市龙柏中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市龙柏中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市龙柏中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第二中学', 18, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第二中学', 17, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第二中学', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第二中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第二中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第二中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第二中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第二中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市罗阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市罗阳中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市罗阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市罗阳中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市罗阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市罗阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市罗阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市罗阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市罗阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市罗阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市罗阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市罗阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市罗阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市罗阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区莘松中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区莘松中学', 27, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区莘松中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区莘松中学', 28, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区莘松中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区莘松中学', 16, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区莘松中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区莘松中学', 16, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区莘松中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区莘松中学', 15, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区莘松中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区莘松中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区莘松中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区莘松中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区莘松中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区莘松中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属闵行金都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属闵行金都实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属闵行金都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属闵行金都实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属闵行金都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属闵行金都实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属闵行金都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属闵行金都实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属闵行金都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属闵行金都实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属闵行金都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属闵行金都实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属闵行金都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属闵行金都实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属闵行金都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属闵行金都实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区北桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区北桥中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区北桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区北桥中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区北桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区北桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区北桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区北桥中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区北桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区北桥中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区北桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区北桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第一中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第一中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第一中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第一中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第一中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第一中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第一中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第一中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第二中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第二中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第二中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第二中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第二中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第二中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第二中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第三中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第三中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第三中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第三中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第三中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦江第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦江第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行第四中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行第四中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行第四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行第四中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行第四中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行第四中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区颛桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区颛桥中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区颛桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区颛桥中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区颛桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区颛桥中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区颛桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区颛桥中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区颛桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区颛桥中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区颛桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区颛桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区颛桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区颛桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区颛桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区颛桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市实验学校西校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市实验学校西校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市实验学校西校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市实验学校西校', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市实验学校西校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市实验学校西校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市实验学校西校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市实验学校西校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市实验学校西校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市实验学校西校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市实验学校西校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市实验学校西校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市实验学校西校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市实验学校西校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区鹤北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区鹤北初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区鹤北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区鹤北初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区鹤北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区鹤北初级中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区鹤北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区鹤北初级中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区鹤北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区鹤北初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区鹤北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区鹤北初级中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区龙茗中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区龙茗中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区龙茗中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区龙茗中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区龙茗中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区龙茗中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区龙茗中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区龙茗中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区龙茗中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区龙茗中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区龙茗中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区龙茗中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝实验中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝实验中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市师资培训中心附属闵行实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市师资培训中心附属闵行实验中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市师资培训中心附属闵行实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市师资培训中心附属闵行实验中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市师资培训中心附属闵行实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市师资培训中心附属闵行实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市师资培训中心附属闵行实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市师资培训中心附属闵行实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市师资培训中心附属闵行实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市师资培训中心附属闵行实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市师资培训中心附属闵行实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市师资培训中心附属闵行实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市师资培训中心附属闵行实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市师资培训中心附属闵行实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市吴泾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市吴泾中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市吴泾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市吴泾中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市吴泾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市吴泾中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市吴泾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市吴泾中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市吴泾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市吴泾中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市吴泾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市吴泾中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第三中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第三中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第三中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第三中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第三中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第三中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区七宝第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区七宝第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第二附属中学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东师范大学第二附属中学附属初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第二附属中学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东师范大学第二附属中学附属初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第二附属中学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东师范大学第二附属中学附属初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第二附属中学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东师范大学第二附属中学附属初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第二附属中学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东师范大学第二附属中学附属初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第二附属中学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东师范大学第二附属中学附属初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第二附属中学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东师范大学第二附属中学附属初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第二附属中学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东师范大学第二附属中学附属初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦航实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦航实验中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦航实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦航实验中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦航实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦航实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦航实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦航实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦航实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦航实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦航实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦航实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区浦航实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区浦航实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区马桥复旦万科实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区马桥复旦万科实验中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区马桥复旦万科实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区马桥复旦万科实验中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区马桥复旦万科实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区马桥复旦万科实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区马桥复旦万科实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区马桥复旦万科实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区马桥复旦万科实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区马桥复旦万科实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区马桥复旦万科实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区马桥复旦万科实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区马桥复旦万科实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区马桥复旦万科实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海中医药大学附属闵行晶城中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海中医药大学附属闵行晶城中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海中医药大学附属闵行晶城中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海中医药大学附属闵行晶城中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海中医药大学附属闵行晶城中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海中医药大学附属闵行晶城中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海中医药大学附属闵行晶城中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海中医药大学附属闵行晶城中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海中医药大学附属闵行晶城中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海中医药大学附属闵行晶城中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海中医药大学附属闵行晶城中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海中医药大学附属闵行晶城中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海中医药大学附属闵行晶城中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海中医药大学附属闵行晶城中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学附属闵行第三中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学附属闵行第三中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学附属闵行第三中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学附属闵行第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学附属闵行第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学附属闵行第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学附属闵行第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区田园外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区田园外国语中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区田园外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区田园外国语中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区田园外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区田园外国语中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区田园外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区田园外国语中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区田园外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区田园外国语中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区田园外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区田园外国语中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区田园外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区田园外国语中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区田园外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区田园外国语中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行中学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行中学附属实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行中学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行中学附属实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行中学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行中学附属实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行中学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行中学附属实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行中学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行中学附属实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行中学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行中学附属实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行中学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行中学附属实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行中学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行中学附属实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海尚师初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海尚师初级中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海尚师初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海尚师初级中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海尚师初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海尚师初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海尚师初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海尚师初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海尚师初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海尚师初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海尚师初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海尚师初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市骏博外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市骏博外国语学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市骏博外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市骏博外国语学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市骏博外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市骏博外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市骏博外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市骏博外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市骏博外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市骏博外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市骏博外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市骏博外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市骏博外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市骏博外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市骏博外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市骏博外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行第三中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行第三中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行第三中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行第三中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区教育学院附属友爱实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区教育学院附属友爱实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区教育学院附属友爱实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区教育学院附属友爱实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区教育学院附属友爱实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区教育学院附属友爱实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区教育学院附属友爱实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区教育学院附属友爱实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区教育学院附属友爱实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区教育学院附属友爱实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区教育学院附属友爱实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区教育学院附属友爱实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海交通大学附属第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海交通大学附属第二中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海交通大学附属第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海交通大学附属第二中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海交通大学附属第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海交通大学附属第二中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海交通大学附属第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海交通大学附属第二中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海交通大学附属第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海交通大学附属第二中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海交通大学附属第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海交通大学附属第二中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海交通大学附属第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海交通大学附属第二中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海交通大学附属第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海交通大学附属第二中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办上宝中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办上宝中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办上宝中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办上宝中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办上宝中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办上宝中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办上宝中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办上宝中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办上宝中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办上宝中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市民办上宝中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办上宝中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办上宝中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办上宝中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属鑫都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属鑫都实验中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属鑫都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属鑫都实验中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属鑫都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属鑫都实验中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属鑫都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属鑫都实验中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属鑫都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属鑫都实验中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属鑫都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属鑫都实验中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市七宝中学附属鑫都实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市七宝中学附属鑫都实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市文来中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市文来中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市文来中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市文来中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市文来中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市文来中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市文来中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市文来中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市文来中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市文来中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市文来中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市文来中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市文来中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市文来中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市文来中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市文来中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办文绮中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办文绮中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办文绮中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办文绮中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办文绮中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办文绮中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办文绮中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办文绮中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办文绮中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办文绮中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市民办文绮中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办文绮中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办文绮中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办文绮中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区协和双语教科学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区协和双语教科学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区协和双语教科学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区协和双语教科学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区协和双语教科学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区协和双语教科学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区协和双语教科学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区协和双语教科学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区协和双语教科学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区协和双语教科学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区协和双语教科学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区协和双语教科学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区诸翟学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区诸翟学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区诸翟学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区诸翟学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区诸翟学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区诸翟学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区诸翟学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区诸翟学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区诸翟学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区诸翟学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区诸翟学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区诸翟学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区诸翟学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区诸翟学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市金汇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市金汇实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市金汇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市金汇实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市金汇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市金汇实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市金汇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市金汇实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市金汇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市金汇实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市金汇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市金汇实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市金汇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市金汇实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市莘光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘光学校', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市莘光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘光学校', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市莘光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘光学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市莘光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘光学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市莘光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘光学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市莘光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘光学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市莘光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘光学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市莘光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘光学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区纪王学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区纪王学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区纪王学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区纪王学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区纪王学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区纪王学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区纪王学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区纪王学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区纪王学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区纪王学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区纪王学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区纪王学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区纪王学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区纪王学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市马桥强恕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市马桥强恕学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市马桥强恕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市马桥强恕学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市马桥强恕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市马桥强恕学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市马桥强恕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市马桥强恕学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市马桥强恕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市马桥强恕学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市马桥强恕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市马桥强恕学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市马桥强恕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市马桥强恕学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市古美学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市古美学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市古美学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市古美学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市古美学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市古美学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市古美学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市古美学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市古美学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市古美学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市古美学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市古美学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市古美学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市古美学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学康城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学康城实验学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学康城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学康城实验学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学康城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学康城实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学康城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学康城实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学康城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学康城实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学康城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学康城实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学康城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学康城实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学康城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海师范大学康城实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市莘城学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘城学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市莘城学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘城学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市莘城学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘城学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市莘城学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘城学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市莘城学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘城学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市莘城学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘城学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市莘城学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘城学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市莘城学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市莘城学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区明星学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区明星学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区明星学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区明星学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区明星学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区明星学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区明星学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区明星学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区明星学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区明星学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区明星学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区明星学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区明星学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区明星学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区文来实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区文来实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区文来实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区文来实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区文来实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区文来实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区文来实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区文来实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区文来实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区文来实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区文来实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区文来实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区君莲学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区君莲学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区君莲学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区君莲学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区君莲学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区君莲学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区君莲学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区君莲学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区君莲学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区君莲学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区君莲学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区君莲学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区君莲学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区君莲学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区华漕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区华漕学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区华漕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区华漕学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区华漕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区华漕学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区华漕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区华漕学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区华漕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区华漕学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区华漕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区华漕学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市闵行区华漕学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市闵行区华漕学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海世外教育附属浦江外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海世外教育附属浦江外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海世外教育附属浦江外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海世外教育附属浦江外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海世外教育附属浦江外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海世外教育附属浦江外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海世外教育附属浦江外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海世外教育附属浦江外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海世外教育附属浦江外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海世外教育附属浦江外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海世外教育附属浦江外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海世外教育附属浦江外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海世外教育附属浦江外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海世外教育附属浦江外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '华东理工大学附属闵行梅陇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东理工大学附属闵行梅陇实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '华东理工大学附属闵行梅陇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东理工大学附属闵行梅陇实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '华东理工大学附属闵行梅陇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东理工大学附属闵行梅陇实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '华东理工大学附属闵行梅陇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东理工大学附属闵行梅陇实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '华东理工大学附属闵行梅陇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东理工大学附属闵行梅陇实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '华东理工大学附属闵行梅陇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东理工大学附属闵行梅陇实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '华东理工大学附属闵行梅陇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '华东理工大学附属闵行梅陇实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办德英乐实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办德英乐实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办德英乐实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办德英乐实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办德英乐实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办德英乐实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办德英乐实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办德英乐实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办德英乐实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办德英乐实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办德英乐实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办德英乐实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办德英乐实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办德英乐实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市燎原双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市燎原双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市燎原双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市燎原双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市燎原双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市燎原双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市燎原双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市燎原双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市燎原双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市燎原双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市燎原双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市燎原双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市燎原双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市燎原双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办协和双语尚音学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办协和双语尚音学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办协和双语尚音学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办协和双语尚音学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办协和双语尚音学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办协和双语尚音学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办协和双语尚音学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办协和双语尚音学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办协和双语尚音学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办协和双语尚音学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办协和双语尚音学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办协和双语尚音学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市民办协和双语尚音学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办协和双语尚音学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办协和双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办协和双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办协和双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办协和双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办协和双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办协和双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办协和双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办协和双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办协和双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办协和双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办万源城协和双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办万源城协和双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办万源城协和双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办万源城协和双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办万源城协和双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办万源城协和双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办万源城协和双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办万源城协和双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办万源城协和双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办万源城协和双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海市民办万源城协和双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办万源城协和双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '042002' AND data_year = 2025), '042002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办万源城协和双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海市民办万源城协和双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海星河湾双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海星河湾双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海星河湾双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海星河湾双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海星河湾双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海星河湾双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海星河湾双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海星河湾双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海星河湾双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海星河湾双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海博世凯外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海博世凯外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海博世凯外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海博世凯外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海博世凯外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海博世凯外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海博世凯外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海博世凯外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海博世凯外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海博世凯外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海博世凯外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海博世凯外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海博世凯外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海博世凯外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区万科双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区万科双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区万科双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区万科双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区万科双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区万科双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区万科双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区万科双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区万科双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区万科双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区民办美高双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区民办美高双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区民办美高双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区民办美高双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区民办美高双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区民办美高双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区民办美高双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区民办美高双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区民办美高双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区民办美高双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区诺达双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区诺达双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区诺达双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区诺达双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区诺达双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区诺达双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区诺达双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区诺达双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区诺达双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区诺达双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海民办圣华紫竹双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海民办圣华紫竹双语学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海民办圣华紫竹双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海民办圣华紫竹双语学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海民办圣华紫竹双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海民办圣华紫竹双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海民办圣华紫竹双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海民办圣华紫竹双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海民办圣华紫竹双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海民办圣华紫竹双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '012006' AND data_year = 2025), '012006', (SELECT id FROM ref_middle_school WHERE name = '上海民办圣华紫竹双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海民办圣华紫竹双语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '012006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海民办圣华紫竹双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海民办圣华紫竹双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122001' AND data_year = 2025), '122001', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区民办德闳学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区民办德闳学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '123001' AND data_year = 2025), '123001', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区民办德闳学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区民办德闳学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '123001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122002' AND data_year = 2025), '122002', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区民办德闳学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区民办德闳学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122003' AND data_year = 2025), '122003', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区民办德闳学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区民办德闳学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'MH'), (SELECT id FROM ref_school WHERE code = '122004' AND data_year = 2025), '122004', (SELECT id FROM ref_middle_school WHERE name = '上海闵行区民办德闳学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'MH') LIMIT 1), '上海闵行区民办德闳学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'MH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '122004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- PD: 238 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市建平中学西校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市建平中学西校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市进才中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市进才中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市进才中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市进才中学北校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学附属东昌中学南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '华东师范大学附属东昌中学南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学附属东昌中学南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '华东师范大学附属东昌中学南校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市洋泾中学东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市洋泾中学东校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市洋泾中学东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市洋泾中学东校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市上南中学东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市上南中学东校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市上南中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市上南中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市上南中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市上南中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市三林中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市三林中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市三林中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市三林中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市洪山中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市洪山中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市上南中学南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市上南中学南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市上南中学南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市上南中学南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市清流中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市清流中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦泾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦泾中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海交通大学附属浦东实验中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海交通大学附属浦东实验中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海交通大学附属浦东实验中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海交通大学附属浦东实验中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区教育学院附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区教育学院附属实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市洋泾中学南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市洋泾中学南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市洋泾中学南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市洋泾中学南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市东昌东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市东昌东校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市东昌东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市东昌东校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市罗山中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市罗山中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市金杨中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市金杨中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市金杨中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市金杨中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市金川中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市金川中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市金川中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市金川中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市华林中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市华林中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市华林中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市华林中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市孙桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市孙桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市孙桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市孙桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市育人中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市育人中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市东林中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市东林中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市东林中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市东林中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市施湾中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市施湾中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市黄楼中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市黄楼中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市黄楼中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市黄楼中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市王港中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市王港中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市王港中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市王港中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市杨园中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市杨园中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市杨园中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市杨园中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市东沟中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市东沟中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属高桥实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海师范大学附属高桥实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属高桥实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海师范大学附属高桥实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市凌桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市凌桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市凌桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市凌桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市顾路中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市顾路中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东模范中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市川沙中学华夏西校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市川沙中学华夏西校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市川沙中学华夏西校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市川沙中学华夏西校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市陆行中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市陆行中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市陆行中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市陆行中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市致远中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市致远中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区进才实验中学南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区进才实验中学南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区进才实验中学南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区进才实验中学南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市蔡路中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市蔡路中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市蔡路中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市蔡路中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市六团中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市六团中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市六团中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市六团中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属浦东实验中学（原上海市唐镇中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海戏剧学院附属浦东实验中学（原上海市唐镇中学）', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属浦东实验中学（原上海市唐镇中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海戏剧学院附属浦东实验中学（原上海市唐镇中学）', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦兴中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦兴中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办恒洋外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办恒洋外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办恒洋外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办恒洋外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办欣竹中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办欣竹中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市新云台中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市新云台中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市陆行中学南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市陆行中学南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市陆行中学南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市陆行中学南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市杨思中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市杨思中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市杨思中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市杨思中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海民办浦东交中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海民办浦东交中初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市建平香梅中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市建平香梅中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市南汇第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市南汇第二中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市南汇第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市南汇第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市南汇第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市南汇第三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市新港中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市新港中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市新港中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市新港中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市新港中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市新港中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市书院中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市书院中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市书院中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市书院中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市大团中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市大团中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市大团中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市大团中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市坦直中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市坦直中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市坦直中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市坦直中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市傅雷中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市傅雷中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市澧溪中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市澧溪中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市澧溪中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市澧溪中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市六灶中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市六灶中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市六灶中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市六灶中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东教育发展研究院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东教育发展研究院附属中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市南汇第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市南汇第四中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市南汇第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市南汇第四中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海中学东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海中学东校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海中学东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海中学东校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海中学东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海中学东校', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东模范中学东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东模范中学东校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市北蔡中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市北蔡中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市北蔡中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市北蔡中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市临港第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市临港第一中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市临港第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市临港第一中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市临港第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市临港第一中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海民办光华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海民办光华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海民办光华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海民办光华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市南汇第五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市南汇第五中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市南汇第五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市南汇第五中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区进才中学南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区进才中学南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市临港实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市临港实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市临港实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市临港实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市临港实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市临港实验中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区进才中学东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区进才中学东校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区进才中学东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区进才中学东校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东外国语学校东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东外国语学校东校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东外国语学校东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东外国语学校东校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东模范实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东模范实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区三灶实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区三灶实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区三灶实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区三灶实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市实验学校南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市实验学校南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市实验学校南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市实验学校南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区新场实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区新场实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区新场实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区新场实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区懿德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区懿德中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区懿德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区懿德中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市建平实验地杰中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市建平实验地杰中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市建平实验地杰中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市建平实验地杰中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市建平实验张江中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市建平实验张江中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市历城中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市历城中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市竹园中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市竹园中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市竹园中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市竹园中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市泾南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市泾南中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市泾南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市泾南中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市香山中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市香山中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市香山中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市香山中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市沪新中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市沪新中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市育民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市育民中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市育民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市育民中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市高行中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市高行中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海第二工业大学附属龚路中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海第二工业大学附属龚路中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海第二工业大学附属龚路中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海第二工业大学附属龚路中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市五三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市五三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市五三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市五三中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市侨光中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市侨光中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市侨光中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市侨光中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市江镇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市江镇中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市合庆中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市合庆中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市合庆中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市合庆中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学张江实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '华东师范大学张江实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学张江实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '华东师范大学张江实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市三林中学东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市三林中学东校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市三林中学东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市三林中学东校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市川沙中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市川沙中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市川沙中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市川沙中学北校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办正达外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办正达外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办正达外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办正达外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市高东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市高东中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市南汇第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市南汇第一中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市南汇第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市南汇第一中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市老港中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市老港中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市老港中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市老港中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市泥城中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市泥城中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市泥城中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市泥城中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市泥城中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市泥城中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区建平康梧中学（原上海市吴迅中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区建平康梧中学（原上海市吴迅中学）', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区建平康梧中学（原上海市吴迅中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区建平康梧中学（原上海市吴迅中学）', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市长岛中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市长岛中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市长岛中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市长岛中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海立信会计金融学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海立信会计金融学院附属学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市绿川学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市绿川学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市洋泾菊园实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市洋泾菊园实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市洋泾菊园实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市洋泾菊园实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市民办平和学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市民办平和学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市民办平和学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市民办平和学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市川沙中学南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市川沙中学南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市川沙中学南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市川沙中学南校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市建平实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市建平实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市建平实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市建平实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市民办金苹果学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市民办金苹果学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海民办启能东方外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海民办启能东方外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办中芯学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市民办中芯学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市民办中芯学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市民办中芯学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市进才实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市进才实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市进才实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市进才实验中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市实验学校东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市实验学校东校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市实验学校东校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市实验学校东校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市张江集团中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市张江集团中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办协和双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办协和双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区建平南汇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区建平南汇实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区建平南汇实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区建平南汇实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市三灶学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市三灶学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市黄路学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市黄路学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区彭镇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区彭镇中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区彭镇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区彭镇中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区彭镇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区彭镇中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市秋萍学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市秋萍学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市秋萍学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市秋萍学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市秋萍学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市秋萍学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市三墩学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市三墩学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市三墩学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市三墩学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市三墩学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市三墩学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市万祥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市万祥学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市万祥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市万祥学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市万祥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市万祥学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宣桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市宣桥学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市宣桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市宣桥学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市航头学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市航头学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市航头学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市航头学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市周浦育才学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市周浦育才学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市实验学校附属光明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市实验学校附属光明学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市东海学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市东海学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市今日学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市今日学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市今日学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市今日学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市今日学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市今日学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市康城学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市康城学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市康城学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市康城学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海中医药大学附属浦东鹤沙学校（原上海市下沙学校）' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海中医药大学附属浦东鹤沙学校（原上海市下沙学校）', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海中医药大学附属浦东鹤沙学校（原上海市下沙学校）' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海中医药大学附属浦东鹤沙学校（原上海市下沙学校）', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办东鼎外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办东鼎外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市民办尚德实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市民办尚德实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办远翔实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办远翔实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办远翔实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办远翔实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办进德外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办进德外国语中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市周浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市周浦实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办沪港学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办沪港学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办沪港学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办沪港学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办沪港学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办沪港学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办更新学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办更新学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办更新学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办更新学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海民办华曜浦东实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海民办华曜浦东实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办万科学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办万科学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第二附属中学前滩学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '华东师范大学第二附属中学前滩学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办惠立学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办惠立学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办宏文学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办宏文学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东新区民办宏文学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东新区民办宏文学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海科技大学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海科技大学附属学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海科技大学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海科技大学附属学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海浦东民办未来科技学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海浦东民办未来科技学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PD'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市浦东新区东城学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PD') LIMIT 1), '上海市浦东新区东城学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PD')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- PT: 171 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市洵阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市洵阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市洵阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市洵阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市洵阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市洵阳中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市洵阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市洵阳中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市北海中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市北海中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市北海中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市北海中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市北海中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市北海中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市北海中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市北海中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市延河中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市延河中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市延河中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市延河中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市延河中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市延河中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市延河中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市延河中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨第二中学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨第二中学附属实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨第二中学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨第二中学附属实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨第二中学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨第二中学附属实验中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨第二中学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨第二中学附属实验中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨第二中学附属实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨第二中学附属实验中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第四附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '华东师范大学第四附属中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第四附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '华东师范大学第四附属中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第四附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '华东师范大学第四附属中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第四附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '华东师范大学第四附属中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第四附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '华东师范大学第四附属中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市怒江中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市怒江中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市怒江中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市怒江中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市怒江中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市怒江中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市怒江中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市怒江中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属第二实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海师范大学附属第二实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属第二实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海师范大学附属第二实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属第二实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海师范大学附属第二实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属第二实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海师范大学附属第二实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市真北中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市真北中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市真北中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市真北中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市真北中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市真北中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市真北中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市真北中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市普陀区教育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市普陀区教育学院附属中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市普陀区教育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市普陀区教育学院附属中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市普陀区教育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市普陀区教育学院附属中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市普陀区教育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市普陀区教育学院附属中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市普陀区教育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市普陀区教育学院附属中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市梅陇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市梅陇中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市梅陇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市梅陇中学', 17, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市梅陇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市梅陇中学', 19, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市梅陇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市梅陇中学', 18, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海兰田中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海兰田中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海兰田中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海兰田中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海兰田中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海兰田中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海兰田中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海兰田中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '同济大学第二附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '同济大学第二附属中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '同济大学第二附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '同济大学第二附属中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '同济大学第二附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '同济大学第二附属中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '同济大学第二附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '同济大学第二附属中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市新杨中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市新杨中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市新杨中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市新杨中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市新杨中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市新杨中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市新杨中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市新杨中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市长征中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市长征中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市长征中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市长征中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市长征中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市长征中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市长征中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市长征中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市长征中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市长征中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市桃浦中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市桃浦中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市桃浦中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市桃浦中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市桃浦中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市桃浦中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市桃浦中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市桃浦中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市晋元高级中学附属学校南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市晋元高级中学附属学校南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市晋元高级中学附属学校南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市晋元高级中学附属学校南校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市晋元高级中学附属学校南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市晋元高级中学附属学校南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市晋元高级中学附属学校南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市晋元高级中学附属学校南校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海音乐学院附属安师实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海音乐学院附属安师实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海音乐学院附属安师实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海音乐学院附属安师实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海音乐学院附属安师实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海音乐学院附属安师实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海音乐学院附属安师实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海音乐学院附属安师实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海华东师范大学附属进华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海华东师范大学附属进华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海华东师范大学附属进华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海华东师范大学附属进华中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海华东师范大学附属进华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海华东师范大学附属进华中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海华东师范大学附属进华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海华东师范大学附属进华中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海华东师范大学附属进华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海华东师范大学附属进华中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海安生学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海安生学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海安生学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海安生学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海安生学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海安生学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海安生学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海安生学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海培佳双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海培佳双语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海培佳双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海培佳双语学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海培佳双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海培佳双语学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海培佳双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海培佳双语学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市光新学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市光新学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市光新学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市光新学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市光新学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市光新学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市光新学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市光新学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市铜川学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市铜川学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市铜川学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市铜川学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市铜川学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市铜川学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市铜川学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市铜川学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市沙田学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市沙田学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市沙田学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市沙田学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市沙田学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市沙田学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市沙田学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市沙田学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学附属外国语实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '华东师范大学附属外国语实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学附属外国语实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '华东师范大学附属外国语实验学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学附属外国语实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '华东师范大学附属外国语实验学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学附属外国语实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '华东师范大学附属外国语实验学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市子长学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市子长学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市子长学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市子长学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市子长学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市子长学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市子长学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市子长学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市洛川学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市洛川学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市洛川学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市洛川学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市洛川学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市洛川学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市洛川学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市洛川学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市宜川中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市宜川中学附属学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市宜川中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市宜川中学附属学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市宜川中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市宜川中学附属学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市宜川中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市宜川中学附属学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市宜川中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市宜川中学附属学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨中学附属学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨中学附属学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨中学附属学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨中学附属学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市普陀区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市普陀区教育学院附属学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市普陀区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市普陀区教育学院附属学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市普陀区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市普陀区教育学院附属学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市普陀区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市普陀区教育学院附属学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市晋元高级中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市晋元高级中学附属学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市晋元高级中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市晋元高级中学附属学校', 13, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市晋元高级中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市晋元高级中学附属学校', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市晋元高级中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市晋元高级中学附属学校', 13, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨第二中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨第二中学附属学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨第二中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨第二中学附属学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨第二中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨第二中学附属学校', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨第二中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨第二中学附属学校', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市曹杨第二中学附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市曹杨第二中学附属学校', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新黄浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市民办新黄浦实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新黄浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市民办新黄浦实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新黄浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市民办新黄浦实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新黄浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市民办新黄浦实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市江宁学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市江宁学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市江宁学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市江宁学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市江宁学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市江宁学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市江宁学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市江宁学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市江宁学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市江宁学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市中远实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市中远实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市中远实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市中远实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市中远实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市中远实验学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市中远实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市中远实验学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市中远实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市中远实验学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市金鼎学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市金鼎学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市金鼎学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市金鼎学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市金鼎学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市金鼎学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市金鼎学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市金鼎学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学尚阳外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海外国语大学尚阳外国语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学尚阳外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海外国语大学尚阳外国语学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学尚阳外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海外国语大学尚阳外国语学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学尚阳外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海外国语大学尚阳外国语学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市文达学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市文达学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市文达学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市文达学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市文达学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市文达学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市文达学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市文达学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市文达学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市文达学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属普陀实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海理工大学附属普陀实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属普陀实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海理工大学附属普陀实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属普陀实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海理工大学附属普陀实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属普陀实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海理工大学附属普陀实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市万里城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市万里城实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市万里城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市万里城实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市万里城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市万里城实验学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042004' AND data_year = 2025), '042004', (SELECT id FROM ref_middle_school WHERE name = '上海市万里城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市万里城实验学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'PT'), (SELECT id FROM ref_school WHERE code = '042007' AND data_year = 2025), '042007', (SELECT id FROM ref_middle_school WHERE name = '上海市万里城实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'PT') LIMIT 1), '上海市万里城实验学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'PT')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042007' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- QP: 89 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市上海中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市上海中学', 181001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海交通大学附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海交通大学附属中学', 181019, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学', 184005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '华东师范大学第二附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '华东师范大学第二附属中学', 181009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海师范大学附属中学', 181007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181002, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181003, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181004, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181006, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181008, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181011, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181012, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181013, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181016, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181017, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181018, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 181019, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 184005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185003, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185004, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185008, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185011, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185012, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185013, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '复旦大学附属中学青浦分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '复旦大学附属中学青浦分校', 185014, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181002, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181003, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181004, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181006, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181008, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181011, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181012, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181013, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181016, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181017, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181018, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 181019, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 184005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185003, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185004, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185008, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185011, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185012, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185013, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市青浦高级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市青浦高级中学', 185014, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181002, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181003, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181004, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181006, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181008, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181011, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181012, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181013, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181016, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181017, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181018, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 181019, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 184005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185001, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185003, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185004, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185005, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185007, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185008, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185009, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185011, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185012, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185013, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'QP'), (SELECT id FROM ref_school WHERE code = '181009' AND data_year = 2025), '181009', (SELECT id FROM ref_middle_school WHERE name = '上海市朱家角中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'QP') LIMIT 1), '上海市朱家角中学', 185014, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'QP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '181009' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- SJ: 78 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区第七中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区第七中学', 13, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区第七中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区第七中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海对外经贸大学附属松江实验学校花园分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海对外经贸大学附属松江实验学校花园分校', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海对外经贸大学附属松江实验学校花园分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海对外经贸大学附属松江实验学校花园分校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江二中（集团）初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江二中（集团）初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江二中（集团）初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江二中（集团）初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江四中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江四中初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江四中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江四中初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区九亭中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区九亭中学', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区九亭中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区九亭中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区第六中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区第六中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区第六中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区第六中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区九亭第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区九亭第二中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区九亭第二中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区九亭第二中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区立达中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区立达中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区立达中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区立达中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区新桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区新桥中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区新桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区新桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区民办茸一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区民办茸一中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区民办茸一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区民办茸一中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江九峰实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江九峰实验学校', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江九峰实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江九峰实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海领科双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海领科双语学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海领科双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海领科双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区洞泾学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区洞泾学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区洞泾学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区洞泾学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区李塔汇学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区李塔汇学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区李塔汇学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区李塔汇学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区古松学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区古松学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区古松学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区古松学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区泖港学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区泖港学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区泖港学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区泖港学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区民乐学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区民乐学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区民乐学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区民乐学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区泗泾实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区泗泾实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区泗泾实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区泗泾实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区佘山外国语实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区佘山外国语实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区佘山外国语实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区佘山外国语实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区五厍学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区五厍学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区五厍学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区五厍学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '东华大学附属实验学校松江小昆山分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '东华大学附属实验学校松江小昆山分校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '东华大学附属实验学校松江小昆山分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '东华大学附属实验学校松江小昆山分校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区仓桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区仓桥学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区仓桥学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区仓桥学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区佘山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区佘山学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区佘山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区佘山学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市三新学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市三新学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市三新学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市三新学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海世外教育附属松江区车墩学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海世外教育附属松江区车墩学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海世外教育附属松江区车墩学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海世外教育附属松江区车墩学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区张泽学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区张泽学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区张泽学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区张泽学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区天马山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区天马山学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区天马山学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区天马山学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属松江实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海戏剧学院附属松江实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属松江实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海戏剧学院附属松江实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市西外外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市西外外国语学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市西外外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市西外外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区叶榭学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区叶榭学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区叶榭学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区叶榭学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学松江外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海外国语大学松江外国语学校', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学松江外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海外国语大学松江外国语学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区新浜学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区新浜学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区新浜学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区新浜学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '东华大学附属实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '东华大学附属实验学校', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '东华大学附属实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '东华大学附属实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海赫贤学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海赫贤学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海赫贤学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海赫贤学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '华东政法大学附属松江实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '华东政法大学附属松江实验学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '华东政法大学附属松江实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '华东政法大学附属松江实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区新闵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区新闵学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市松江区新闵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市松江区新闵学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属松江实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海师范大学附属松江实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学附属松江实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海师范大学附属松江实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海工程技术大学附属松江泗泾实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海工程技术大学附属松江泗泾实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海工程技术大学附属松江泗泾实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海工程技术大学附属松江泗泾实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市三新学校松江东部分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市三新学校松江东部分校', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'SJ'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市三新学校松江东部分校' AND district_id = (SELECT id FROM ref_district WHERE code = 'SJ') LIMIT 1), '上海市三新学校松江东部分校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'SJ')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- XH: 128 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市园南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市园南中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市园南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市园南中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市园南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市园南中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市园南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市园南中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市园南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市园南中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市园南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市园南中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市汾阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市汾阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市汾阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市汾阳中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市汾阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市汾阳中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市汾阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市汾阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市汾阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市汾阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市汾阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市汾阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市梅园中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市梅园中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市梅园中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市梅园中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市梅园中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市梅园中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市梅园中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市梅园中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市梅园中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市梅园中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市梅园中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市梅园中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市紫阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市紫阳中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市紫阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市紫阳中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市紫阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市紫阳中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市紫阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市紫阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市紫阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市紫阳中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市紫阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市紫阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市康健外国语实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市康健外国语实验中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市康健外国语实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市康健外国语实验中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市康健外国语实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市康健外国语实验中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市康健外国语实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市康健外国语实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市康健外国语实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市康健外国语实验中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市康健外国语实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市康健外国语实验中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市世外中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市世外中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市世外中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市世外中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市世外中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市世外中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市世外中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市世外中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市世外中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市世外中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市世外中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市世外中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办华育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市民办华育中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市民办华育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市民办华育中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市民办华育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市民办华育中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市民办华育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市民办华育中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市民办华育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市民办华育中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市民办华育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市民办华育中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市民办华育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市民办华育中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市中国中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市中国中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市中国中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市中国中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市中国中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市中国中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市中国中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市中国中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市中国中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市中国中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市中国中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市中国中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市中国中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市中国中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市第五十四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市第五十四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市第五十四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市第五十四中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市第五十四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市第五十四中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市第五十四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市第五十四中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市第五十四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市第五十四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市徐汇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市徐汇中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市徐汇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市徐汇中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市徐汇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市徐汇中学', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市徐汇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市徐汇中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市徐汇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市徐汇中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市徐汇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市徐汇中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市徐汇中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市徐汇中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '徐汇南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '徐汇南校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '徐汇南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '徐汇南校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '徐汇南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '徐汇南校', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '徐汇南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '徐汇南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '徐汇南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '徐汇南校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '徐汇南校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '徐汇南校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市第四中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市第四中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市第四中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市第四中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市第四中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市第四中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市第四中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市零陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市零陵中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市零陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市零陵中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市零陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市零陵中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市零陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市零陵中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市零陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市零陵中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市零陵中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市零陵中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海师大附中附属龙华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海师大附中附属龙华中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海师大附中附属龙华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海师大附中附属龙华中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海师大附中附属龙华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海师大附中附属龙华中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海师大附中附属龙华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海师大附中附属龙华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海师大附中附属龙华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海师大附中附属龙华中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海师大附中附属龙华中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海师大附中附属龙华中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '华东理工大学附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '华东理工大学附属中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '华东理工大学附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '华东理工大学附属中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '华东理工大学附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '华东理工大学附属中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '华东理工大学附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '华东理工大学附属中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '华东理工大学附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '华东理工大学附属中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '华东理工大学附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '华东理工大学附属中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市西南位育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市西南位育中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市西南位育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市西南位育中学', 13, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市西南位育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市西南位育中学', 13, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市西南位育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市西南位育中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市西南位育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市西南位育中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市西南位育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市西南位育中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海市西南位育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市西南位育中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市西南模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市西南模范中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市西南模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市西南模范中学', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市西南模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市西南模范中学', 13, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市西南模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市西南模范中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市西南模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市西南模范中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市西南模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市西南模范中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海民办位育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海民办位育中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海民办位育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海民办位育中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海民办位育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海民办位育中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海民办位育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海民办位育中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海民办位育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海民办位育中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '152006' AND data_year = 2025), '152006', (SELECT id FROM ref_middle_school WHERE name = '上海民办位育中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海民办位育中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152006' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海民办南模中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海民办南模中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海民办南模中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海民办南模中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海民办南模中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海民办南模中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海民办南模中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海民办南模中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海民办南模中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海民办南模中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海市位育实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市位育实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海市位育实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市位育实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海市位育实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市位育实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海市位育实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市位育实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海市位育实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海市位育实验学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042001' AND data_year = 2025), '042001', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学第三附属实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海师范大学第三附属实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042001' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042008' AND data_year = 2025), '042008', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学第三附属实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海师范大学第三附属实验学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042008' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042035' AND data_year = 2025), '042035', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学第三附属实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海师范大学第三附属实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042035' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042036' AND data_year = 2025), '042036', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学第三附属实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海师范大学第三附属实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042036' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '043015' AND data_year = 2025), '043015', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学第三附属实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海师范大学第三附属实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '043015' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'XH'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海师范大学第三附属实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'XH') LIMIT 1), '上海师范大学第三附属实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'XH')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- YP: 138 records
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市铁岭中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市铁岭中学', 14, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市铁岭中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市铁岭中学', 14, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市铁岭中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市铁岭中学', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市铁岭中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市铁岭中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市十五中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市十五中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市十五中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市杨浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市杨浦初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市杨浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市杨浦初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市杨浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市杨浦初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市惠民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市惠民中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市惠民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市惠民中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市惠民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市惠民中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市惠民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市惠民中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市辽阳中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市辽阳中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市辽阳中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市新大桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市新大桥中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市新大桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市新大桥中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市新大桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市新大桥中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市新大桥中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市新大桥中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市建设初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市建设初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市建设初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市建设初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市建设初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市建设初级中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市东辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市东辽阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市东辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市东辽阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市东辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市东辽阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市东辽阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市东辽阳中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市二十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市二十五中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市二十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市二十五中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市二十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市二十五中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '152003' AND data_year = 2025), '152003', (SELECT id FROM ref_middle_school WHERE name = '上海市二十五中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市二十五中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '152003' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属初级中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市杨浦区教育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市杨浦区教育学院附属中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市杨浦区教育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市杨浦区教育学院附属中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市杨浦区教育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市杨浦区教育学院附属中学', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市同济初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市同济初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济初级中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市同济初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市同济初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市三门中学（上海财经大学附属初级中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市三门中学（上海财经大学附属初级中学）', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市三门中学（上海财经大学附属初级中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市三门中学（上海财经大学附属初级中学）', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市三门中学（上海财经大学附属初级中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市三门中学（上海财经大学附属初级中学）', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市三门中学（上海财经大学附属初级中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市三门中学（上海财经大学附属初级中学）', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市包头中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市包头中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市包头中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市包头中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市包头中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市包头中学', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市包头中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市包头中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市思源中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市思源中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市思源中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市思源中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市思源中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市思源中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市思源中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市思源中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山实验中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山实验中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市鞍山实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市鞍山实验中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市同济第二初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济第二初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市同济第二初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济第二初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市同济第二初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市同济第二初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市国和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市国和中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市国和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市国和中学', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市国和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市国和中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市国和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市国和中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属实验初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属实验初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属实验初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属实验初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海理工大学附属实验初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海理工大学附属实验初级中学', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市控江初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市控江初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市控江初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市控江初级中学', 11, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市控江初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市控江初级中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市控江初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市控江初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市存志学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市存志学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市存志学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市存志学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市存志学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市存志学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市存志学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市存志学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦凯慧初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦凯慧初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦凯慧初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦凯慧初级中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦凯慧初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦凯慧初级中学', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦凯慧初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦凯慧初级中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市市东实验学校（上海市市东中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市东实验学校（上海市市东中学）', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市市东实验学校（上海市市东中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市东实验学校（上海市市东中学）', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市市东实验学校（上海市市东中学）' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市东实验学校（上海市市东中学）', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市复旦实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市复旦实验中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市复旦实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市复旦实验中学', 9, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市复旦实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市复旦实验中学', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市复旦实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市复旦实验中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海民办兰生中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办兰生中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海民办兰生中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办兰生中学', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海民办兰生中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办兰生中学', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海民办兰生中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办兰生中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市长阳实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市长阳实验学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市长阳实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市长阳实验学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市长阳实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市长阳实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦实验学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦实验学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海民办杨浦实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办杨浦实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市体育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市体育学院附属中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市体育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市体育学院附属中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市体育学院附属中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市体育学院附属中学', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海音乐学院实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海音乐学院实验学校', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海音乐学院实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海音乐学院实验学校', 12, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海音乐学院实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海音乐学院实验学校', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海音乐学院实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海音乐学院实验学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市黄兴学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市黄兴学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市黄兴学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市黄兴学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市黄兴学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市黄兴学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市昆明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市昆明学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市昆明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市昆明学校', 6, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市昆明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市昆明学校', 5, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市昆明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市昆明学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市育鹰学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市育鹰学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市育鹰学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市育鹰学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市育鹰学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市育鹰学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海市育鹰学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市育鹰学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海杨浦双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海杨浦双语学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海杨浦双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海杨浦双语学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海杨浦双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海杨浦双语学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '上海杨浦双语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海杨浦双语学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海市市光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市光学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海市市光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市光学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海市市光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市光学校', 7, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市市光学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海市市光学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海民办沪东外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办沪东外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海民办沪东外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办沪东外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海民办沪东外国语学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海民办沪东外国语学校', 2, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '上海同大实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海同大实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '上海同大实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海同大实验学校', 4, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '上海同大实验学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '上海同大实验学校', 3, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102032' AND data_year = 2025), '102032', (SELECT id FROM ref_middle_school WHERE name = '复旦大学第二附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '复旦大学第二附属学校', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102032' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102004' AND data_year = 2025), '102004', (SELECT id FROM ref_middle_school WHERE name = '复旦大学第二附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '复旦大学第二附属学校', 10, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102004' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '103002' AND data_year = 2025), '103002', (SELECT id FROM ref_middle_school WHERE name = '复旦大学第二附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '复旦大学第二附属学校', 8, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '103002' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at)
SELECT 2024, (SELECT id FROM ref_district WHERE code = 'YP'), (SELECT id FROM ref_school WHERE code = '102057' AND data_year = 2025), '102057', (SELECT id FROM ref_middle_school WHERE name = '复旦大学第二附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'YP') LIMIT 1), '复旦大学第二附属学校', 1, 2024, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'YP')
AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102057' AND data_year = 2025)
ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- Verify: SELECT year, d.code, COUNT(*) FROM ref_quota_allocation_school q JOIN ref_district d ON q.district_id = d.id WHERE year = 2024 GROUP BY year, d.code;