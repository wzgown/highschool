-- =============================================================================
-- 2025年名额分配到校招生计划数据
-- =============================================================================
-- Generated: 2026-02-12 23:23:43
-- Source: 2025年名额分配到校.csv

-- Delete existing 2025 data
DELETE FROM ref_quota_allocation_school WHERE year = 2025;

-- Insert 2025 quota allocation to school data
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 10, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 9, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 9, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 10, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 7, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市市西初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市西初级中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市育才初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市育才初级中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区协和双语培明学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区协和双语培明学校', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市时代中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市时代中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市五四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市五四中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '民办上海上外静安外国语中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '民办上海上外静安外国语中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 7, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 6, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 6, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 7, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区市北初级中学北校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区市北初级中学北校', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 8, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 8, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 8, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 9, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 6, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市新中初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市新中初级中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区实验中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市朝阳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市朝阳中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 10, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 9, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 9, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 11, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 6, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 7, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 6, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市市北初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市市北初级中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 20, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 19, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 19, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 22, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 11, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 14, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市风华初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市风华初级中学', 11, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 7, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 6, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 6, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 7, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦初级中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦初级中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海外国语大学苏河湾实验中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海外国语大学苏河湾实验中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 6, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 6, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 6, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 7, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市青云中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市青云中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市岭南中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市岭南中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市保德中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市保德中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第三中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第三中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市彭浦第四中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市彭浦第四中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 21, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市回民中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市回民中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市民立中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民立中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市第一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市第一中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市久隆模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市久隆模范中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市闸北第八中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市闸北第八中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市华东模范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华东模范中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 6, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '同济大学附属七一中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '同济大学附属七一中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市向东中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市向东中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海田家炳中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海田家炳中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 6, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 6, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市民办扬波中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办扬波中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市民办新和中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办新和中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市民办风范中学' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市民办风范中学', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市爱国学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市爱国学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 4, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 5, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区教育学院附属学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区教育学院附属学校', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市华灵学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市华灵学校', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市三泉学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市三泉学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海戏剧学院附属静安学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海戏剧学院附属静安学校', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062001' AND data_year = 2025), '062001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062002' AND data_year = 2025), '062002', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062002' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062003' AND data_year = 2025), '062003', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062003' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '062011' AND data_year = 2025), '062011', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 3, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '062011' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '063004' AND data_year = 2025), '063004', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '063004' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '064001' AND data_year = 2025), '064001', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '064001' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '042032' AND data_year = 2025), '042032', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 2, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '042032' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;
INSERT INTO ref_quota_allocation_school (year, district_id, high_school_id, high_school_code, middle_school_id, middle_school_name, quota_count, data_year, created_at, updated_at) SELECT 2025, (SELECT id FROM ref_district WHERE code = 'JA'), (SELECT id FROM ref_school WHERE code = '102056' AND data_year = 2025), '102056', (SELECT id FROM ref_middle_school WHERE name = '上海市静安区大宁国际学校' AND district_id = (SELECT id FROM ref_district WHERE code = 'JA') LIMIT 1), '上海市静安区大宁国际学校', 1, 2025, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP WHERE EXISTS (SELECT 1 FROM ref_district WHERE code = 'JA') AND EXISTS (SELECT 1 FROM ref_school WHERE code = '102056' AND data_year = 2025) ON CONFLICT (year, high_school_code, middle_school_name) DO UPDATE SET quota_count = EXCLUDED.quota_count, updated_at = CURRENT_TIMESTAMP;

-- Verify insert - show quota by district
SELECT d.code, d.name, COUNT(*) as school_count, SUM(qas.quota_count) as total_quota
FROM ref_quota_allocation_school qas
JOIN ref_district d ON qas.district_id = d.id
WHERE qas.year = 2025
GROUP BY d.code, d.name
ORDER BY d.code;